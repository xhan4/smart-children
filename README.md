graph TD
    A[用户提问] --> B(Agent解析)
    B --> C{需要实时数据?}
    C -->|是| D[调用MQTT接口]
    C -->|否| E{需要历史数据?}
    E -->|是| F[查询MongoDB]
    E -->|否| G{需要外部数据?}
    G -->|是| H[调用天气/价格API]
    G -->|否| I[检索知识库]
    D --> J[综合所有数据]
    F --> J
    H --> J
    I --> J
    J --> K[生成最终回答]
    K --> L[返回用户]


ReAct 推理框架 (REACT_PROMPT):定义代理的推理逻辑，结合 思考（Thought） 和 行动（Action）
问题输入 → 2. 模型思考 → 3. 调用工具 → 4. 观察结果 → 5. 重复或给出最终答案。

构建系统提示，告知模型可用工具。
模型生成包含工具调用的中间步骤。
代理解析并执行工具调用。
将工具结果反馈给模型生成最终答案。